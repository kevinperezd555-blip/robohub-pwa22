<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0d6efd">
<title>RoboHub ü§ñ Ultimate</title>
<style>
body{margin:0;font-family:'Segoe UI',Tahoma,sans-serif;background:#f5f6fa;color:#333;transition:0.3s;}
header{background:#0d6efd;color:white;padding:18px;text-align:center;font-size:1.7em;font-weight:bold;box-shadow:0 3px 6px rgba(0,0,0,0.15);}
#loginScreen{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;background:#e8f0fe;transition:0.3s;}
#loginScreen input{margin:8px 0;padding:12px;width:260px;border:1px solid #ccc;border-radius:8px;font-size:1em;transition:0.3s;}
button.action{margin-top:12px;padding:12px 20px;background:#0d6efd;color:white;border:none;border-radius:8px;cursor:pointer;font-weight:bold;transition:0.3s;}
button.action:hover{background:#084298;transform:scale(1.05);}
#mainApp{display:none;transition:0.3s;}
.app{display:flex;min-height:100vh;transition:0.3s;}
nav{width:220px;background:#212529;color:white;padding:20px;display:flex;flex-direction:column;gap:15px;transition:0.3s;}
nav button{background:none;border:none;color:white;text-align:left;padding:12px;border-radius:6px;cursor:pointer;font-size:1.05em;transition:0.3s;}
nav button:hover{background:#343a40;transform:scale(1.03);}
.content{flex-grow:1;padding:25px;background:#f5f6fa;transition:0.3s;}
h2{margin-top:0;color:#0d6efd;border-bottom:3px solid #0d6efd;padding-bottom:5px;transition:0.3s;}
ul{list-style:none;padding:0;}
li{background:white;margin:10px 0;padding:14px;border-radius:10px;box-shadow:0 3px 6px rgba(0,0,0,0.1);display:flex;justify-content:space-between;align-items:center;cursor:grab;transition:0.3s;}
li:hover{transform:scale(1.03);box-shadow:0 6px 12px rgba(0,0,0,0.15);}
li.completed{text-decoration:line-through;color:gray;opacity:0.7;}
.btns button{margin-left:6px;padding:6px 12px;border:none;border-radius:6px;cursor:pointer;font-size:0.9em;transition:0.3s;}
.edit{background:#ffc107;color:black;} .delete{background:#dc3545;color:white;}
.edit:hover{background:#e0a800;transform:scale(1.1);} .delete:hover{background:#c82333;transform:scale(1.1);}
.section{display:none;transition:0.3s;}
.welcome{margin:15px 0;font-size:1.3em;font-weight:bold;color:#0d6efd;background:white;padding:15px;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.columns{display:flex;gap:20px;flex-wrap:wrap;transition:0.3s;}
.column{flex:1;background:#f8f9fa;padding:12px;border-radius:10px;min-height:320px;transition:0.3s;}
.column h3{text-align:center;margin-bottom:10px;}
@media(max-width:900px){.app{flex-direction:column;} nav{width:100%;flex-direction:row;overflow-x:auto;} nav button{flex:1;text-align:center;}}
</style>
</head>
<body>

<div id="loginScreen">
<h2>üîê RoboHub Login</h2>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button class="action" onclick="signIn()">Sign In</button>
</div>

<div id="mainApp">
<header>RoboHub ü§ñ Ultimate</header>
<div class="app">
<nav>
<button onclick="showSection('inventory')">üì¶ Inventory</button>
<button onclick="showSection('tasks')">üìù Tasks</button>
<button onclick="showSection('profile')">üë§ Profile</button>
</nav>
<div class="content">
<div id="inventory" class="section">
<h2>üì¶ Inventory</h2>
<ul id="inventoryList"></ul>
<button class="action" onclick="addInventory()">Add Inventory</button>
</div>

<div id="tasks" class="section">
<h2>üìù Task Board</h2>
<div class="columns">
<div class="column">
<h3>To Do</h3>
<ul id="todoList" ondragover="allowDrop(event)" ondrop="dropTask(event,'todo')"></ul>
</div>
<div class="column">
<h3>In Progress</h3>
<ul id="inProgressList" ondragover="allowDrop(event)" ondrop="dropTask(event,'inprogress')"></ul>
</div>
<div class="column">
<h3>Done</h3>
<ul id="doneList" ondragover="allowDrop(event)" ondrop="dropTask(event,'done')"></ul>
</div>
</div>
<button class="action" onclick="addTask()">Add Task</button>
</div>

<div id="profile" class="section">
<h2>üë§ Profile</h2>
<div class="welcome" id="welcomeMsg"></div>
<button class="action" onclick="logOut()">Log Out</button>
</div>
</div>
</div>
</div>

<script>
const loginScreen = document.getElementById('loginScreen');
const mainApp = document.getElementById('mainApp');
const inventoryList = document.getElementById('inventoryList');
const todoList = document.getElementById('todoList');
const inProgressList = document.getElementById('inProgressList');
const doneList = document.getElementById('doneList');

let inventory = JSON.parse(localStorage.getItem('inventory')) || { Servo: 3, Motor: 5, Sensors: 7 };
let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

// Save inventory and tasks
function saveData() {
  localStorage.setItem('inventory', JSON.stringify(inventory));
  localStorage.setItem('tasks', JSON.stringify(tasks));
}

// Inventory UI
function updateInventoryUI() {
  inventoryList.innerHTML = '';
  for (let item in inventory) {
    const li = document.createElement('li');
    li.textContent = `${item}: ${inventory[item]}`;
    const btns = document.createElement('div');
    btns.className = 'btns';
    btns.innerHTML = `<button class="edit" onclick="editInventory('${item}')">Edit</button>
                      <button class="delete" onclick="deleteInventory('${item}')">Delete</button>`;
    li.appendChild(btns);
    inventoryList.appendChild(li);
  }
}

// Tasks UI
function updateTasksUI() {
  todoList.innerHTML = '';
  inProgressList.innerHTML = '';
  doneList.innerHTML = '';
  tasks.forEach((task, index) => {
    const li = document.createElement('li');
    li.textContent = task.name;
    li.setAttribute('draggable','true');
    li.setAttribute('id','task-'+index);
    li.ondragstart = (e) => { e.dataTransfer.setData('text', index); e.target.style.opacity='0.5'; };
    li.ondragend = (e) => { e.target.style.opacity='1'; };
    const btns = document.createElement('div');
    btns.className = 'btns';
    btns.innerHTML = `<button class="edit" onclick="editTask(${index})">Edit</button>
                      <button class="delete" onclick="deleteTask(${index})">Delete</button>`;
    li.appendChild(btns);
    if(task.status==='todo') todoList.appendChild(li);
    else if(task.status==='inprogress') inProgressList.appendChild(li);
    else doneList.appendChild(li);
  });
}

// Show section
function showSection(section) {
  document.querySelectorAll('.section').forEach(div => div.style.display='none');
  document.getElementById(section).style.display='block';
}

// Login: accept anything
function signIn() {
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value.trim();
  if(username){
    localStorage.setItem('username', username);
    loginScreen.style.display='none';
    mainApp.style.display='flex';
    document.getElementById('welcomeMsg').textContent = `Welcome, ${username}!`;
    updateInventoryUI();
    updateTasksUI();
    showSection('inventory');
  } else {
    alert('Please enter a username');
  }
}

// Logout
function logOut() {
  localStorage.removeItem('username');
  loginScreen.style.display='flex';
  mainApp.style.display='none';
}

// Inventory functions
function addInventory() { 
  const item = prompt('Item name'); 
  const qty = parseInt(prompt('Quantity'),10); 
  if(item && !isNaN(qty)){ inventory[item] = qty; saveData(); updateInventoryUI(); } 
}

function editInventory(item) { 
  const newQty = parseInt(prompt(`Edit quantity for ${item}:`, inventory[item]),10); 
  if(!isNaN(newQty)){ inventory[item] = newQty; saveData(); updateInventoryUI(); } 
}

function deleteInventory(item) { 
  if(confirm(`Delete ${item}?`)){ delete inventory[item]; saveData(); updateInventoryUI(); } 
}

// Task functions
function add
