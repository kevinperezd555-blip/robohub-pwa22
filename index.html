<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RoboHub ðŸ¤–</title>
<style>
body { font-family: Arial; background:#f0f4f8; margin:0; padding:0; }
#loginScreen, #mainApp { display:none; }
header { background:#007bff; color:white; padding:15px; text-align:center; }
ul { list-style:none; padding:0; }
li { background:white; margin:10px; padding:10px; border-radius:8px; }
button { margin:5px; padding:10px; }
</style>
</head>
<body>

<div id="loginScreen">
  <h2>RoboHub Login</h2>
  <input type="text" id="username" placeholder="Enter username">
  <button onclick="signIn()">Sign In</button>
</div>

<div id="mainApp">
<header>RoboHub ðŸ¤–</header>
<div id="welcomeMsg"></div>
<button onclick="logOut()">Log Out</button>

<h3>Inventory</h3>
<ul id="inventory"></ul>
<button onclick="addInventory()">Add Inventory</button>

<h3>Task Board</h3>
<ul id="tasks"></ul>
<button onclick="addTask()">Add Task</button>
</div>

<script>
const loginScreen = document.getElementById('loginScreen');
const mainApp = document.getElementById('mainApp');
const inventoryList = document.getElementById('inventory');
const tasksList = document.getElementById('tasks');

let inventory = { Servo:3, Motor:5, Sensors:7 };
let tasks = ["Build chassis (Jacob)", "Wire motors (Kevin)"];

function saveData() {
  localStorage.setItem('inventory', JSON.stringify(inventory));
  localStorage.setItem('tasks', JSON.stringify(tasks));
}

function updateInventoryUI() {
  inventoryList.innerHTML = '';
  for(let item in inventory){
    const li = document.createElement('li');
    li.textContent = `${item}: ${inventory[item]}`;
    inventoryList.appendChild(li);
  }
}

function updateTasksUI() {
  tasksList.innerHTML = '';
  tasks.forEach((task,index)=>{
    const li = document.createElement('li');
    li.textContent = task;
    li.onclick = () => completeTask(index);
    tasksList.appendChild(li);
  });
}

function showWelcome(){
  const username = localStorage.getItem('username') || '';
  document.getElementById('welcomeMsg').textContent = username ? `Welcome, ${username}!` : '';
}

function signIn(){
  const username = document.getElementById('username').value.trim();
  if(username){
    localStorage.setItem('username', username);
    loginScreen.style.display='none';
    mainApp.style.display='block';
    showWelcome();
    updateInventoryUI();
    updateTasksUI();
  } else {
    alert('Enter username');
  }
}

function logOut(){
  localStorage.removeItem('username');
  loginScreen.style.display='block';
  mainApp.style.display='none';
}

function addTask(){
  const task = prompt('Enter new task');
  if(task){
    tasks.push(task);
    saveData();
    updateTasksUI();
  }
}

function completeTask(index){
  tasks[index] += ' âœ…';
  saveData();
  updateTasksUI();
}

function addInventory(){
  const item = prompt('Item name');
  const qty = parseInt(prompt('Quantity'),10);
  if(item && !isNaN(qty)){
    if(inventory[item]) inventory[item]+=qty;
    else inventory[item]=qty;
    saveData();
    updateInventoryUI();
  }
}

window.onload = function(){
  const username = localStorage.getItem('username');
  if(username){
    loginScreen.style.display='none';
    mainApp.style.display='block';
    showWelcome();
    updateInventoryUI();
    updateTasksUI();
  } else {
    loginScreen.style.display='block';
    mainApp.style.display='none';
  }
};
</script>

</body>
</html>
