<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RoboHub ğŸ¤– Ultimate</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; }
  header { background:#1e88e5; color:white; padding:1rem; text-align:center; font-size:1.5rem; }
  .app { display:flex; height:100vh; }
  nav { background:#f4f4f4; padding:1rem; width:200px; display:flex; flex-direction:column; gap:10px; }
  nav button { padding:10px; border:none; background:#1e88e5; color:white; border-radius:5px; cursor:pointer; }
  .content { flex:1; padding:1rem; overflow-y:auto; }
  .section { display:none; }
  .toast { position:fixed; bottom:20px; right:20px; background:#333; color:#fff; padding:10px 20px; border-radius:5px; opacity:0; transition:opacity 0.5s; }
  #loginScreen { display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; background:#eceff1; }
  #loginScreen input { padding:10px; margin:5px; width:200px; }
  #loginScreen button { padding:10px; width:220px; background:#1e88e5; color:white; border:none; cursor:pointer; }
  .dark-mode { background:#121212; color:white; }
  .dark-mode nav { background:#1e1e1e; }
  .dark-mode nav button { background:#333; }
  ul { list-style:none; padding:0; }
  li { background:#e0e0e0; margin:5px 0; padding:10px; border-radius:5px; cursor:grab; }
</style>
</head>
<body>

<div id="loginScreen">
  <h2>ğŸ” RoboHub Login</h2>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="signIn()">Sign In</button>
</div>

<div id="mainApp" style="display:none;">
  <header>RoboHub ğŸ¤– Ultimate</header>
  <div class="app">
    <nav>
      <button onclick="showSection('inventory')">ğŸ“¦ Inventory</button>
      <button onclick="showSection('tasks')">ğŸ“ Tasks</button>
      <button onclick="showSection('profile')">ğŸ‘¤ Profile</button>
      <button onclick="toggleDarkMode()">ğŸŒ™ Dark Mode</button>
      <button onclick="resetData()">ğŸ”„ Reset Data</button>
    </nav>
    <div class="content">
      <!-- Inventory -->
      <div id="inventory" class="section">
        <h2>ğŸ“¦ Inventory</h2>
        <ul id="inventoryList"></ul>
        <input type="text" id="itemName" placeholder="Item name">
        <input type="number" id="itemQty" placeholder="Quantity">
        <button onclick="addInventory()">Add Item</button>
      </div>

      <!-- Tasks -->
      <div id="tasks" class="section">
        <h2>ğŸ“ Task Board</h2>
        <ul id="taskList"></ul>
        <input type="text" id="taskText" placeholder="New Task">
        <button onclick="addTask()">Add Task</button>
      </div>

      <!-- Profile -->
      <div id="profile" class="section">
        <h2>ğŸ‘¤ Profile</h2>
        <p id="welcomeMsg"></p>
        <button onclick="logOut()">Log Out</button>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
let inventory = JSON.parse(localStorage.getItem("inventory")) || [
  {name:"Servo", qty:3},
  {name:"Motor", qty:5},
  {name:"Sensor", qty:7}
];
let tasks = JSON.parse(localStorage.getItem("tasks")) || [
  "Build chassis (Jacob)",
  "Wire motors (Kevin)"
];

function showSection(section){
  document.querySelectorAll('.section').forEach(div=>div.style.display='none');
  document.getElementById(section).style.display='block';
  if(section==="inventory") renderInventory();
  if(section==="tasks") renderTasks();
}

function showToast(msg){
  const t=document.getElementById('toast');
  t.textContent=msg;
  t.style.opacity='1';
  setTimeout(()=>{t.style.opacity='0'},1500);
}

function signIn(){
  const username=document.getElementById('username').value.trim();
  const password=document.getElementById('password').value.trim();
  if(username && password){
    localStorage.setItem('username',username);
    document.getElementById('welcomeMsg').textContent=`Welcome, ${username}!`;
    document.getElementById('loginScreen').style.display='none';
    document.getElementById('mainApp').style.display='flex';
    showSection('inventory');
    showToast('Logged in successfully');
  } else {
    alert('Please enter both username and password.');
  }
}

function logOut(){
  document.getElementById('mainApp').style.display='none';
  document.getElementById('loginScreen').style.display='flex';
}

function renderInventory(){
  const list=document.getElementById("inventoryList");
  list.innerHTML="";
  inventory.forEach((item,i)=>{
    let li=document.createElement("li");
    li.textContent=`${item.name} (${item.qty})`;
    list.appendChild(li);
  });
  localStorage.setItem("inventory",JSON.stringify(inventory));
}

function addInventory(){
  const name=document.getElementById("itemName").value.trim();
  const qty=parseInt(document.getElementById("itemQty").value);
  if(name && qty>0){
    inventory.push({name,qty});
    renderInventory();
    showToast("Item added!");
  }
}

function renderTasks(){
  const list=document.getElementById("taskList");
  list.innerHTML="";
  tasks.forEach((task,i)=>{
    let li=document.createElement("li");
    li.textContent=task;
    li.draggable=true;
    li.ondragstart=e=>e.dataTransfer.setData("text/plain",i);
    li.ondrop=e=>{
      e.preventDefault();
      const from=e.dataTransfer.getData("text");
      const to=i;
      const moved=tasks.splice(from,1)[0];
      tasks.splice(to,0,moved);
      renderTasks();
    };
    li.ondragover=e=>e.preventDefault();
    list.appendChild(li);
  });
  localStorage.setItem("tasks",JSON.stringify(tasks));
}

function addTask(){
  const text=document.getElementById("taskText").value.trim();
  if(text){
    tasks.push(text);
    renderTasks();
    showToast("Task added!");
  }
}

function toggleDarkMode(){
  document.body.classList.toggle("dark-mode");
  showToast("Toggled Dark Mode");
}

function resetData(){
  if(confirm("Reset all data?")){
    inventory=[{name:"Servo",qty:3},{name:"Motor",qty:5},{name:"Sensor",qty:7}];
    tasks=["Build chassis (Jacob)","Wire motors (Kevin)"];
    renderInventory();
    renderTasks();
    showToast("Data reset!");
  }
}
</script>
</body>
</html>
